@use '../../_mixins' as *;
@use '../../_variables' as *;

/* Base Form Wrapper */
.form-wrapper {
    display: grid;
    justify-items: center;
    align-items: center;
    // height: max-content;
    max-width: $tablet;
    padding: $xLarge;
    gap: $large;

    background-color: var(--bg-secondary-color);

    @include border;
}

/* Step Progress Indicator */
.step-progress {
    text-align: center;
}

.step-indicator {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.5rem;
}

.step-dot {
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background-color: var(--text-color);
    transition: all 0.3s ease;
    position: relative;
}

.step-dot.active {
    background-color: var(--primary-hover-color);
    width: 16px;
    height: 16px;
    box-shadow: 0 0 0 3px var(--primary-color);
}

.step-dot.completed {
    background-color: var(--primary-color);
}

.step-dot.completed::after {
    content: 'âœ“';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: var(--text-color);
    font-size: 15px;
    font-weight: bold;
}

.step-text {
    color: var(--text-color);
    font-weight: 500;
}

/* Navigation Buttons at Top */
.form-navigation-top {
    display: grid;
    gap: 1rem;
}

.form-navigation-top button {
    margin-inline: auto;
}

/* Form Contents */
.form-contents {
    display: grid;
    justify-items: center;
    gap: $xLarge;
    min-width: 310px;
}

.form-title {
    font-weight: lighter;
    text-align: center;
    color: var(--text-color);
}

/* Input Wrapper */
.form-input-wrapper {
    display: flex;
    flex-direction: column;
    gap: $medium;
    width: 100%;
}

.form-label {
    color: var(--text-color);
}

.form-input {
    padding: $medium $large;
    border-radius: $border-radius;
    font-size: 1rem;
    transition: all 0.2s;

    @include border;
}

.form-input:focus {
    outline-color: var(--primary-hover-color);
}

/* Warning state for invalid inputs */
.form-input.warning {
    outline-color: var(--danger-color);
}

.form-input.warning:focus {
    outline-color: var(--danger-color);
}

// /* Error Messages */
// .error-wrapper {
//     display: grid;
//     gap: $medium;
//     margin-top: 0.25rem;
// }

// .error-text {
//     font-size: 0.75rem;
//     color: var(--danger-color);
//     margin: 0;
// }

// .error {
//     color: var(--danger-color);
//     text-align: center;
//     padding: $medium;
//     background-color: var(--text-color);
//     border-radius: 0.375rem;
// }

/* Form Link */
.form-link-wrapper {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.875rem;
    margin-top: 0.5rem;
}

.form-link-wrapper p {
    margin: 0;
    color: #6b7280;
}

.form-link {
    color: var(--primary-color);
}

.form-link:hover {
    color: var(--primary-hover-color);
}

/* ============================================================================
   ANIMATIONS
   ============================================================================ */

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.form-contents {
    animation: fadeIn 0.3s ease-out;
}

@keyframes pulse {
    0%,
    100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

.step-dot.active {
    animation: pulse 2s ease-in-out infinite;
}
